{% extends "layout/_template.njk" %}
{% from "components/summary/_macro.njk" import onsSummary %}
{% from "components/button/_macro.njk" import onsButton %}
{%
    set pageConfig = {
        "header": {
            "title": "Create a project",
            "signoutButton": {
                "text": "Save and sign out"
            }
        },
        "breadcrumbs": {
            "itemsList": [
                {
                    "url": '/dashboard',
                    "text": 'Back'
                }
            ]
        },
              "footer": {
          "OGLLink": {
              "pre": "All content is available under the", "link": "Open Government Licence v3.0",
              "url": "https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",
              "post": ", except where otherwise stated"
          }
      }
    }
%}

{% macro checkBox() %}
check
{%- endmacro %}

{% block main %}
    <h1 class="ons-u-mt-m">Choose another section to complete</h1>

    {{
        onsSummary({
            "variant": "hub",
            "classes": "ons-u-mt-m",
            "summaries": [
                {
                    "groups": [
                        {
                            "rows": [
                                {
                                    "rowTitle": "Project Details",
                                    "rowItems": [
                                        {
                                            "valueList": [
                                                {
                                                    "text": "<div id='user_details'></div>"
                                                }
                                            ],
                                            "iconType": "none",
                                            "actions": [
                                                {
                                                    "text": "Change",
                                                    "ariaLabel": "View answers for People who live here",
                                                    "url": url_for('project_pre_survey')
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "rowTitle": "Code and Architecture",
                                    "rowItems": [
                                        {
                                            "valueList": [
                                            {
                                                "text": "<div id='project_details'></div>"
                                            }
                                        ],
                                            "iconType": "none", 
                                            "actions": [
                                                {
                                                    "text": "Change",
                                                    "ariaLabel": "View answers for Household accommodation",
                                                    "url": url_for('architecture_pre_survey')
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "rowTitle": "Technology Details",
                                    "rowItems": [
                                        {
                                            "valueList": [
                                            {
                                                "text": "<div id='developed_details'></div>"
                                            }
                                        ],
                                            "iconType": "none",
                                            "actions": [
                                                {
                                                    "text": "Change",
                                                    "ariaLabel": "View answers for Mary Smith",
                                                    "url": url_for('tech_pre_survey')
                                                }
                                            ]
                                        }
                                    ]
                                },
                            ]
                        }
                    ]
                }
            ]
        })
    }}


    {{
        onsButton({
            "text": 'Continue',
            "classes": 'ons-u-mb-m ons-u-mt-l',
            "iconType": "chevron",
            "url": url_for('validate_details')
        })
    }}

    <script>

        function load_data() {
            var youData = localStorage.getItem('you_data');
            var projectData = localStorage.getItem('data');
            var developedData = localStorage.getItem('data-developed');
            var sourceControlData = localStorage.getItem('data-source-control');
            var frameworksData = localStorage.getItem('frameworks-data');
            var infrastructureData = localStorage.getItem('infrastructure-data');
            var integrationsData = localStorage.getItem('integrations-data');
            var languagesData = localStorage.getItem('languages-data');
            var architectureData = localStorage.getItem('architecture-data');
            var databaseData = localStorage.getItem('data-database');

            if (youData && JSON.parse(youData).complete) {
            }
            if (projectData && JSON.parse(projectData).complete) {
            }
            if (developedData && JSON.parse(developedData).complete) {
                // Do something
            }
            if (sourceControlData && JSON.parse(sourceControlData).complete) {
                // Do something
            }
            if (frameworksData && JSON.parse(frameworksData).complete) {
                // Do something
            }
            if (infrastructureData && JSON.parse(infrastructureData).complete) {
                // Do something
            }
            if (integrationsData && JSON.parse(integrationsData).complete) {
                // Do something
            }
            if (languagesData && JSON.parse(languagesData).complete) {
                // Do something
            }
            if (architectureData && JSON.parse(architectureData).complete) {

            }
            if (databaseData && JSON.parse(databaseData).complete) {
                // Do something
            }

        }
        load_data();
</script>


{% endblock %}

      {% block scripts %}

        <style>
          body {
            height: auto;
          }
        </style>

      {% endblock %}
    