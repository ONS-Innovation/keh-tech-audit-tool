{% extends "core.html" %}
{% include "utils.html" %}
{% from "components/summary/_macro.njk" import onsSummary %}
{% from "components/button/_macro.njk" import onsButton %}
{% from "components/breadcrumbs/_macro.njk" import onsBreadcrumbs %}
{% block main %}

{% with messages = get_flashed_messages() %}
{% if messages %}
  <ul class="flashes">
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}
{% endwith %}
  {{
    onsBreadcrumbs({
        "ariaLabel": 'Breadcrumbs',
        "itemsList": [
            {
                "url": '/dashboard',
                "text": 'Back'
            },
        ],
    }) }}
    {% if edit %}
        {{ onsButton({
          "text": "Edit",
          "url": url_for('edit_project', project_name=project.details[0].name),
          "attributes": {
              "style": "float: right; margin-right: 5em;"
          }
      }) }}
    {% endif %}
    {% set langs = [] %}
    <div style="margin-top: 1em;">
        {{ onsSummary({
          "summaries": [
              {
                  "groups": [
                      {
                          "placeholderText": 'test',
                          "id": "summary",
                          "title": "Summary",
                          "rows": [
                              {
                                  "id": "technical-contact-row",
                                  "title": "Technical Contact",
                                  "itemsList": [
                                      {
                                          "id": "technical-contact",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "delivery-manager-row",
                                  "title": "Delivery Manager Contact",
                                  "itemsList": [
                                      {
                                          "id": "delivery-manager",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              },
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "title": "Project",
                                  "id": "project-details-row",
                                  "itemsList": [
                                      {
                                          "id": "project-details",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "developed-row",
                                  "title": "Developed",
                                  "itemsList": [
                                      {
                                          "id": "developed",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "stage-row",
                                  "title": "Stage",
                                  "itemsList": [
                                      {
                                          "id": "stage",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                            {
                                  "id": "project-dependencies-row",
                                  "title": "Project Dependencies",
                                  "itemsList": [
                                      {
                                          "id": "project_dependencies",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "source-control-row",
                                  "title": "Source Control",
                                  "itemsList": [
                                      {
                                          "id": "source-control",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "hosting-row",
                                  "title": "Hosting",
                                  "itemsList": [
                                      {
                                          "id": "hosting",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "database-row",
                                  "title": "Database",
                                  "itemsList": [
                                      {
                                          "id": "database",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              },
                                          ]
                                      }
                                  ]
                              },
                            {
                                  "id": "frameworks-row",
                                  "title": "Frameworks",
                                  "itemsList": [
                                      {
                                          "id": "frameworks",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                          {
                                  "id": "languages-row",
                                  "title": "Languages",
                                  "itemsList": [
                                      {
                                          "id": "languages",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "cicd-row",
                                  "title": "CI/CD",
                                  "itemsList": [
                                      {
                                          "id": "cicd",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                        }
                                  ]
                              },
                        {
                                  "id": "infrastructure-row",
                                  "title": "Infrastructure",
                                  "itemsList": [
                                      {
                                          "id": "infrastructure",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "code-editors-row",
                                  "title": "Code Editors",
                                  "itemsList": [
                                      {
                                          "id": "code_editors",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "user-interface-row",
                                  "title": "User Interface",
                                  "itemsList": [
                                      {
                                          "id": "user_interface",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "diagrams-row",
                                  "title": "Diagrams",
                                  "itemsList": [
                                      {
                                          "id": "diagrams",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "project-tracking-row",
                                  "title": "Project Tracking",
                                  "itemsList": [
                                      {
                                          "id": "project_tracking",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "documentation-row",
                                  "title": "Documentation",
                                  "itemsList": [
                                      {
                                          "id": "documentation",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "communication-row",
                                  "title": "Communication",
                                  "itemsList": [
                                      {
                                          "id": "communication",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "collaboration-row",
                                  "title": "Collaboration",
                                  "itemsList": [
                                      {
                                          "id": "collaboration",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "incident-management-row",
                                  "title": "Incident Management",
                                  "itemsList": [
                                      {
                                          "id": "incident_management",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },
                              {
                                  "id": "miscellaneous-row",
                                  "title": "Miscellaneous",
                                  "itemsList": [
                                      {
                                          "id": "miscellaneous",
                                          "valueList": [
                                              {
                                                  "text": ""
                                              }
                                          ]
                                      }
                                  ]
                              },

                          ]
                      }
                  ]
              }
          ]
      }) }}
    </div>
    <br/>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/view_project.js') }}"></script>
<script>
    const projects = {{ project | tojson | safe }};
    
    function formatList(items) {
        if (!items || items.length === 0) return 'N/A';
        return items.join(', ');
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadData(projects);
    });
</script>
{% endblock %}
